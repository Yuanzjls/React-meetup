{"version":3,"sources":["features/constants/DateFormat.js","features/event/eventSlice.js","Components/Calendarx.jsx","app/fetchEvent.js","features/constants/Url.js","features/functions/IconText.js","Components/MapCard.jsx","features/constants/env.js","features/functions/SumReduce.js","Components/Loading.jsx","Components/EventDetail.jsx","Components/Event.jsx","features/auth/authSlice.js","Components/Login.jsx","Components/Signup.jsx","features/people/peopleSlice.js","Components/People.jsx","App.js","app/store.js","reportWebVitals.js","index.js"],"names":["format","eventSlice","createSlice","name","initialState","events","date","moment","filterByDateEnable","eventDetail","reducers","setEvents","state","action","newState","payload","setDate","setFilterByDateEnable","setEventDetail","actions","Text","Typography","Calendarx","useSelector","event","Dispatch","useDispatch","className","align","strong","checked","onChange","value","fullscreen","onSelect","fetchEvent","id","dispatch","url","axios","get","then","res","data","catch","error","console","IconText","icon","text","React","createElement","Marker","HomeOutlined","MapCard","props","useState","attendOfMe","setAttendOfMe","useParams","justify","city","bootstrapURLKeys","key","process","center","lat","parseFloat","lng","long","defaultZoom","address","type","onClick","delete","log","Modal","success","content","update","post","sumReduce","prev","cur","rate","Loading","size","EventDetail","auth","isModalVisible","setIsModalVisible","stars","review","setReview","reviewStars","reviewText","TextArea","Input","fetchWithAuth","useEffect","authorization","reviews","reduce","length","attendees","map","attendee","includes","user_id","handleAdd","event_id","err","title","handleCancel","span","category","StarOutlined","toFixed","Grid","hoverable","src","picture_url","alt","nanoid","description","host","profile_picture_url","first_name","last_name","ele","placement","visible","footer","onOk","onCancel","defaultValue","showCount","maxLength","e","target","reverse","allowHalf","disabled","created_at","Event","listData","filter","element","commentCount","event_reviews","avatar","pic","itemLayout","pagination","page","pageSize","dataSource","renderItem","item","Item","MessageOutlined","extra","width","Meta","to","authSlice","token","firstName","setAuthorization","setToken","setFirstName","FirstName","setAuth","tokenData","JSON","parse","atob","split","Login","history","useHistory","labelCol","wrapperCol","initialValues","rember","onFinish","values","email","password","response","localStorage","setItem","userToken","defaults","headers","Authorization","goBack","alert","onFinishFailed","errorInfo","Title","level","label","rules","required","message","Password","autoComplete","offset","htmlType","Signup","confirmPassword","push","peopleSlice","setPeople","People","people","index","setIndex","loading","setLoading","hasMore","setHasMore","displayPeople","slice","initialLoad","pageStart","loadMore","warning","setTimeout","useWindow","grid","gutter","xs","sm","md","lg","xl","xxl","style","maxWidth","cover","height","fallback","Header","Layout","Sider","Content","Footer","App","collapsed","setCollapsed","toggle","user_token","getItem","trigger","collapsible","theme","mode","defaultSelectedKeys","VideoCameraOutlined","UserOutlined","UploadOutlined","MenuUnfoldOutlined","MenuFoldOutlined","removeItem","path","configureStore","reducer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.03c41fb7.chunk.js","sourcesContent":["export const format = \"YYYY-MM-DD\";\r\nexport const formatDateHour = \"YYYY-MM-DD HH:mm\";\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport moment from \"moment\";\r\nimport { format } from \"../constants/DateFormat\";\r\nexport const eventSlice = createSlice({\r\n  name: \"event\",\r\n  initialState: {\r\n    events: null,\r\n    date: moment().format(format),\r\n    filterByDateEnable: false,\r\n    eventDetail: null,\r\n  },\r\n  reducers: {\r\n    setEvents: (state, action) => {\r\n      const newState = { ...state };\r\n      newState.events = action.payload;\r\n      return newState;\r\n    },\r\n    setDate: (state, action) => {\r\n      const newState = { ...state };\r\n      newState.date = action.payload;\r\n      return newState;\r\n    },\r\n    setFilterByDateEnable: (state, action) => {\r\n      const newState = { ...state };\r\n      newState.filterByDateEnable = action.payload;\r\n      return newState;\r\n    },\r\n    setEventDetail: (state, action) => {\r\n      const newState = { ...state };\r\n      newState.eventDetail = action.payload;\r\n      return newState;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setEvents,\r\n  setDate,\r\n  setFilterByDateEnable,\r\n  setEventDetail,\r\n} = eventSlice.actions;\r\n\r\nexport default eventSlice.reducer;\r\n","import { Calendar, Switch, Typography } from \"antd\"\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setDate, setFilterByDateEnable } from \"../features/event/eventSlice\"\r\nimport moment from 'moment';\r\nimport { format } from \"../features/constants/DateFormat\"\r\n\r\n\r\nconst { Text } = Typography;\r\nexport default function Calendarx() {\r\n\r\n    const date = useSelector((state) => state.event.date);\r\n    const filterByDateEnable = useSelector(state => state.event.filterByDateEnable);\r\n    const Dispatch = useDispatch();\r\n    function selectDate(value) {\r\n        Dispatch(setDate(value.format(format)));\r\n    }\r\n\r\n    return <div className=\"site-calendar-demo-card\" align=\"center\">\r\n        <Text strong>Filter by date : </Text><Switch checked={filterByDateEnable} onChange={(value) => Dispatch(setFilterByDateEnable(value))} />\r\n        <Calendar\r\n            value={moment(date, format)}\r\n            fullscreen={false}\r\n            onSelect={selectDate}\r\n        />\r\n    </div>\r\n}","import axios from \"axios\";\r\nimport { urlBase } from \"../features/constants/Url\";\r\n\r\nexport const fetchEvent = (id, action) => (dispatch) => {\r\n  const url = `${urlBase}events/${id}`;\r\n\r\n  axios\r\n    .get(url)\r\n    .then((res) => dispatch(action(res.data)))\r\n    .catch((error) => console.error(\"Error: \", error));\r\n};\r\n","export const urlBase = \"https://dk-react-backend.herokuapp.com/\";\r\n","import { Space } from \"antd\";\r\nimport React from \"react\";\r\n\r\nexport const IconText = ({ icon, text }) => (\r\n  <Space>\r\n    {React.createElement(icon)}\r\n    {text}\r\n  </Space>\r\n);\r\n","import { Card, Row, Col, Button, Typography, Modal } from \"antd\";\r\nimport GoogleMapReact from \"google-map-react\";\r\nimport moment from \"moment\";\r\nimport { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { HomeOutlined } from \"@ant-design/icons\";\r\nimport { formatDateHour as format } from \"../features/constants/DateFormat\";\r\nimport { googleMapAPIKey } from \"../features/constants//env\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router\";\r\nconst Marker = ({ text }) => (\r\n  <div className=\"googlemapmarker\">\r\n    <HomeOutlined />\r\n    <Typography.Text>{text}</Typography.Text>\r\n  </div>\r\n);\r\n\r\nexport default function MapCard(props) {\r\n  const eventDetail = useSelector((state) => state.event.eventDetail);\r\n  const [attendOfMe, setAttendOfMe] = useState(props.attendOfMe);\r\n  const { id } = useParams();\r\n  if (eventDetail === null) {\r\n    return;\r\n  }\r\n\r\n  function Click() {\r\n    if (!attendOfMe) {\r\n      axios\r\n        .post(`https://dk-react-backend.herokuapp.com/event-attendee/${id}`)\r\n        .then((res) => {\r\n          console.log(res);\r\n          Modal.success({\r\n            content: `You have successfully registered this event.`,\r\n          });\r\n          setAttendOfMe(true);\r\n          props.update();\r\n        })\r\n        .catch((error) => console.error(error));\r\n    } else {\r\n      axios\r\n        .delete(`https://dk-react-backend.herokuapp.com/event-attendee/${id}`)\r\n        .then((res) => {\r\n          console.log(res);\r\n          Modal.success({\r\n            content: `You have successfully canceled registering this event.`,\r\n          });\r\n          setAttendOfMe(false);\r\n          props.update();\r\n        })\r\n        .catch((error) => console.error(error));\r\n    }\r\n  }\r\n  return (\r\n    <Card>\r\n      <Row justify=\"space-between\">\r\n        <Col>\r\n          <p>Date & Time</p>\r\n        </Col>\r\n        <Col>\r\n          <p>{moment(eventDetail.date).format(format)}</p>\r\n        </Col>\r\n      </Row>\r\n      <Row justify=\"space-between\">\r\n        <Col>\r\n          <p>City:</p>\r\n        </Col>\r\n        <Col>\r\n          <p>{eventDetail.city}</p>\r\n        </Col>\r\n      </Row>\r\n      <div className=\"googlemapdiv\">\r\n        <GoogleMapReact\r\n          bootstrapURLKeys={{ key: googleMapAPIKey }}\r\n          center={{\r\n            lat: parseFloat(eventDetail.lat),\r\n            lng: parseFloat(eventDetail.long),\r\n          }}\r\n          defaultZoom={8}\r\n        >\r\n          <Marker\r\n            lat={parseFloat(eventDetail.lat)}\r\n            lng={parseFloat(eventDetail.long)}\r\n            text={eventDetail.address}\r\n          />\r\n        </GoogleMapReact>\r\n      </div>\r\n      <br></br>\r\n      {attendOfMe ? (\r\n        <div className=\"attendance-text\">\r\n          <Typography.Text>You are attending this event</Typography.Text>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <Button\r\n        type={attendOfMe ? \"\" : \"primary\"}\r\n        className=\"buttonatten\"\r\n        onClick={Click}\r\n      >\r\n        {attendOfMe ? \"withdraw attendance\" : \"Attend\"}\r\n      </Button>\r\n    </Card>\r\n  );\r\n}\r\n","export const googleMapAPIKey = process.env.REACT_APP_GOOGLE_KEY;\r\n","export function sumReduce(prev, cur) {\r\n  return prev + cur.rate;\r\n}\r\n","import { Spin } from \"antd\";\r\n\r\nexport default function Loading() {\r\n    return <div className=\"spinning\">\r\n        <Spin size=\"large\" />\r\n    </div>;\r\n}","import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { fetchEvent } from \"../app/fetchEvent\";\r\nimport { setEventDetail } from \"../features/event/eventSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Avatar,\r\n  Tooltip,\r\n  Space,\r\n  Image,\r\n  Rate,\r\n  Typography,\r\n  Button,\r\n  Modal,\r\n  Input\r\n} from \"antd\";\r\nimport { IconText } from \"../features/functions/IconText\";\r\nimport { StarOutlined } from \"@ant-design/icons\";\r\nimport moment from \"moment\";\r\nimport { nanoid } from \"nanoid\";\r\nimport MapCard from \"./MapCard\";\r\nimport { sumReduce } from \"../features/functions/SumReduce\";\r\nimport axios from \"axios\";\r\nimport Loading from \"./Loading\"\r\nimport \"./index.css\";\r\n\r\nexport default function EventDetail() {\r\n  const { id } = useParams();\r\n  const eventDetail = useSelector((state) => state.event.eventDetail);\r\n  const auth = useSelector((state) => state.auth);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [review, setReview] = useState({ stars: 0, Text: \"\" });\r\n  let reviewStars = review.stars, reviewText = review.Text;\r\n  const dispatch = useDispatch();\r\n  const { TextArea } = Input;\r\n  function fetchWithAuth() {\r\n    dispatch(fetchEvent(id, setEventDetail));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (auth.authorization) {\r\n      fetchWithAuth();\r\n    }\r\n  }, [auth.authorization]);\r\n\r\n  if (auth.authorization === false) {\r\n    return (\r\n      <Typography.Text>\r\n        You cannot access this page without log in, please click log in first.\r\n      </Typography.Text>\r\n    );\r\n  }\r\n  if (eventDetail === null) {\r\n    fetchWithAuth();\r\n    return <Loading />;\r\n  }\r\n\r\n  const rate =\r\n    eventDetail.reviews === null\r\n      ? \"NaN\"\r\n      : eventDetail.reviews.reduce(sumReduce, 0) / eventDetail.reviews.length;\r\n  const attendOfMe =\r\n    eventDetail.attendees === null\r\n      ? false\r\n      : eventDetail.attendees\r\n        .map((attendee) => attendee.id)\r\n        .includes(auth.user_id);\r\n\r\n  const showAddReview = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n  const handleAdd = () => {\r\n    if (reviewStars > 0 && reviewText !== '') {\r\n      axios.post('https://dk-react-backend.herokuapp.com/reviews',\r\n        { rate: reviewStars, review: reviewText, event_id: id })\r\n        .then(res => { fetchWithAuth(); })\r\n        .catch(err => console.log(err));\r\n      setReview({ stars: 5, Text: \"\" });\r\n      setIsModalVisible(false);\r\n    }\r\n    else {\r\n      Modal.error({\r\n        title: 'Error',\r\n        content: 'Rate and review are required',\r\n      });\r\n\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setReview({ stars: reviewStars, Text: reviewText });\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const reviews = eventDetail.reviews ? [...eventDetail.reviews] : '';\r\n  return (\r\n    <Row>\r\n      <Col key={nanoid()} span={14}>\r\n        <Card\r\n          key={nanoid()}\r\n          title={<div className=\"eventcard-title\">{eventDetail.title}</div>}\r\n          className=\"eventcard-body\"\r\n        >\r\n          <Row align=\"space-between\" className=\"eventcard-row\">\r\n            <Col>Category: {eventDetail.category}</Col>\r\n            <Col>\r\n              <IconText icon={StarOutlined} text={rate.toFixed(1)}></IconText>\r\n            </Col>\r\n          </Row>\r\n          <Card.Grid\r\n            key={nanoid()}\r\n            className=\"eventcard-centergrid\"\r\n            hoverable={false}\r\n          >\r\n            <Image src={eventDetail.picture_url} alt=\"Event_image\" />\r\n          </Card.Grid>\r\n          <Card.Grid\r\n            key={nanoid()}\r\n            className=\"eventcard-leftgrid\"\r\n            hoverable={false}\r\n          >\r\n            Description: {eventDetail.description}\r\n          </Card.Grid>\r\n          <Card.Grid\r\n            key={nanoid()}\r\n            className=\"eventcard-leftgrid\"\r\n            hoverable={false}\r\n          >\r\n            <Avatar src={eventDetail.host.profile_picture_url} />\r\n            <span className=\"eventcard-subtitle\">\r\n              &nbsp;&nbsp; Hostname: {eventDetail.host.first_name}{\" \"}\r\n              {eventDetail.host.last_name}\r\n            </span>\r\n          </Card.Grid>\r\n          <Card.Grid\r\n            key={nanoid()}\r\n            className=\"eventcard-leftgrid\"\r\n            hoverable={false}\r\n          >\r\n            <span className=\"eventcard-subtitle\">Who are coming:</span>\r\n            <br></br>\r\n            <Space size={20}>\r\n              {eventDetail.attendees === null\r\n                ? \"No body will come\"\r\n                : eventDetail.attendees.map((ele) => (\r\n                  <Tooltip\r\n                    title={`id: ${ele.id}`}\r\n                    placement=\"top\"\r\n                    key={ele.id}\r\n                  >\r\n                    <Avatar key={nanoid()} src={ele.profile_picture_url} />\r\n                  </Tooltip>\r\n                ))}{\" \"}\r\n            </Space>\r\n          </Card.Grid>\r\n          <Card.Grid className=\"eventcard-leftgrid\" hoverable={false}>\r\n            <Row align=\"space-between\" key={nanoid()}>\r\n              <Col>\r\n                <h4>What do other people think about this event?</h4>\r\n              </Col>\r\n              <Col>\r\n                <Button type=\"link\" onClick={showAddReview}>Add Review</Button>\r\n                <Modal\r\n                  title=\"New Review\"\r\n                  visible={isModalVisible}\r\n                  footer={[\r\n                    <Button key=\"back\" onClick={handleCancel}>\r\n                      Cancel\r\n                    </Button>,\r\n                    <Button key=\"submit\" type=\"primary\" onClick={handleAdd}>\r\n                      Submit\r\n                    </Button>,\r\n                  ]}\r\n                  onOk={handleAdd} onCancel={handleCancel}>\r\n                  <Rate defaultValue={review.stars} onChange={value => reviewStars = value}></Rate>\r\n                  <TextArea defaultValue={review.Text} showCount maxLength={1000} onChange={(e => reviewText = e.target.value)}></TextArea>\r\n                </Modal>\r\n              </Col>\r\n            </Row>\r\n          </Card.Grid>\r\n          {reviews !== '' ? reviews.reverse().map((review) => (\r\n            <Card.Grid\r\n              className=\"eventcard-leftgrid\"\r\n              hoverable={false}\r\n              key={nanoid()}\r\n            >\r\n              <Row align=\"space-between\" key={nanoid()}>\r\n                <Col key={nanoid()}>\r\n                  <Rate\r\n                    allowHalf\r\n                    disabled\r\n                    defaultValue={review.rate}\r\n                    key={nanoid()}\r\n                  />\r\n                </Col>\r\n                <Col key={nanoid()}>\r\n                  <Typography.Text key={nanoid()}>\r\n                    Post at {moment(review.created_at).format(\"MM/DD - HH:mm\")}\r\n                  </Typography.Text>\r\n                </Col>\r\n              </Row>\r\n              <Typography.Text key={nanoid()}>{review.review}</Typography.Text>\r\n            </Card.Grid>\r\n          )) : ''}\r\n        </Card>\r\n      </Col>\r\n      <Col key={nanoid()} span={10}>\r\n        <MapCard attendOfMe={attendOfMe} update={fetchWithAuth} />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n","import \"antd/dist/antd.css\";\r\nimport { List, Avatar, Image } from \"antd\";\r\nimport { MessageOutlined, StarOutlined } from \"@ant-design/icons\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setEvents } from \"../features/event/eventSlice\";\r\nimport { format } from \"../features/constants/DateFormat\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport { fetchEvent } from \"../app/fetchEvent\";\r\nimport { IconText } from \"../features/functions/IconText\";\r\nimport { sumReduce } from \"../features/functions/SumReduce\";\r\nimport Loading from \"./Loading\"\r\nexport default function Event() {\r\n  const events = useSelector((state) => state.event.events);\r\n  const date = useSelector((state) => state.event.date);\r\n  const filterByDateEnable = useSelector(\r\n    (state) => state.event.filterByDateEnable\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchEvent(\"\", setEvents));\r\n  }, [dispatch]);\r\n\r\n  if (events === null) {\r\n    return <Loading />;\r\n  }\r\n\r\n  const listData = events\r\n    .filter((element) =>\r\n      filterByDateEnable ? moment(element.date).format(format) === date : true\r\n    )\r\n    .map((data) => {\r\n      const commentCount =\r\n        data.event_reviews === null ? 0 : data.event_reviews.length;\r\n      const stars =\r\n        data.event_reviews === null\r\n          ? 0\r\n          : data.event_reviews.reduce(sumReduce, 0);\r\n\r\n      return {\r\n        title: data.title,\r\n        avatar: data.host.profile_picture_url,\r\n        description: data.description,\r\n        content: \"\",\r\n        pic: data.picture_url,\r\n        commentCount: commentCount,\r\n        stars: stars,\r\n        id: data.id,\r\n      };\r\n    });\r\n\r\n  return (\r\n    <List\r\n      itemLayout=\"vertical\"\r\n      size=\"large\"\r\n      pagination={{\r\n        onChange: (page) => { },\r\n        pageSize: 3,\r\n      }}\r\n      dataSource={listData}\r\n      renderItem={(item) => (\r\n        <List.Item\r\n          key={item.title}\r\n          actions={[\r\n            <IconText\r\n              icon={StarOutlined}\r\n              text={item.stars}\r\n              key=\"list-vertical-star-o\"\r\n            />,\r\n            <IconText\r\n              icon={MessageOutlined}\r\n              text={item.commentCount}\r\n              key=\"list-vertical-message\"\r\n            />,\r\n          ]}\r\n          extra={<Image width={272} alt=\"logo\" src={item.pic} />}\r\n        >\r\n          <List.Item.Meta\r\n            avatar={<Avatar src={item.avatar} />}\r\n            title={<Link to={`/event/${item.id}`}>{item.title}</Link>}\r\n            description={item.description}\r\n          />\r\n          {item.content}\r\n        </List.Item>\r\n      )}\r\n    />\r\n  );\r\n}\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nexport const authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: {\r\n    authorization: false,\r\n    token: null,\r\n    firstName: null,\r\n    user_id: null,\r\n  },\r\n  reducers: {\r\n    setAuthorization: (state, action) => {\r\n      const newState = { ...state };\r\n\r\n      newState.authorization = action.payload;\r\n\r\n      return newState;\r\n    },\r\n    setToken: (state, action) => {\r\n      const newState = { ...state };\r\n      newState.token = action.payload;\r\n      return newState;\r\n    },\r\n    setFirstName: (state, action) => {\r\n      const newState = { ...state };\r\n      newState.FirstName = action.payload;\r\n      return newState;\r\n    },\r\n    setAuth: (state, action) => {\r\n      let newState;\r\n      if (action.payload.authorization) {\r\n        const tokenData = JSON.parse(atob(action.payload.token.split(\".\")[1]));\r\n        newState = { ...action.payload, user_id: tokenData.id };\r\n      } else {\r\n        newState = { ...action.payload, user_id: null };\r\n      }\r\n\r\n      return newState;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setAuthorization,\r\n  setToken,\r\n  setFirstName,\r\n  setAuth,\r\n} = authSlice.actions;\r\n\r\nexport default authSlice.reducer;\r\n","import { Form, Input, Button, Typography } from \"antd\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n\r\n  setAuth,\r\n} from \"../features/auth/authSlice\";\r\n\r\nexport default function Login() {\r\n  const dispatch = useDispatch();\r\n  let history = useHistory();\r\n  const layout = {\r\n    labelCol: { span: 8 },\r\n    wrapperCol: { span: 16 },\r\n  };\r\n\r\n  const tailLayout = {\r\n    wrapperCol: {\r\n      offset: 8,\r\n      span: 16,\r\n    },\r\n  };\r\n\r\n  const onFinish = (values) => {\r\n    axios\r\n      .post(\"https://dk-react-backend.herokuapp.com/login\", {\r\n        email: values.email,\r\n        password: values.password,\r\n      })\r\n      .then((response) => {\r\n        localStorage.setItem(\"user_token\", response.data.token);\r\n        localStorage.setItem(\"first_name\", values.email);\r\n        dispatch(\r\n          setAuth({\r\n            token: response.data.token,\r\n            firstName: values.email,\r\n            authorization: true,\r\n          })\r\n        );\r\n        const userToken = `Bearer ${response.data.token}`;\r\n        axios.defaults.headers.Authorization = userToken;\r\n        history.goBack();\r\n      })\r\n      .catch((error) => {\r\n        alert(\"The email is not matched its password, try again\");\r\n      });\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log(\"Failed:\", errorInfo);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form\r\n        {...layout}\r\n        name=\"basic\"\r\n        initialValues={{ rember: true }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n      >\r\n        <Typography.Title level={2} className=\"textcenter\">\r\n          Login\r\n        </Typography.Title>\r\n        <Form.Item\r\n          label=\"Email\"\r\n          name=\"email\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input your Email!\",\r\n              type: \"email\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input className=\"ant-col-14\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Password\"\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input your password!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password className=\"ant-col-14\" autoComplete=\"on\" />\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Login\r\n          </Button>\r\n        </Form.Item>\r\n        <div className=\"textcenter\">\r\n          <Typography.Text>\r\n            Don't have a account? <Link to=\"/signup\">Sign up </Link>now\r\n          </Typography.Text>\r\n        </div>\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n","import { Form, Input, Button, Typography } from \"antd\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Signup() {\r\n  let history = useHistory();\r\n  const layout = {\r\n    labelCol: { span: 8 },\r\n    wrapperCol: { span: 16 },\r\n  };\r\n\r\n  const tailLayout = {\r\n    wrapperCol: {\r\n      offset: 8,\r\n      span: 16,\r\n    },\r\n  };\r\n\r\n  const onFinish = (values) => {\r\n    if (values.password !== values.confirmPassword) {\r\n      alert(\"Please input the same password!\");\r\n      return;\r\n    }\r\n\r\n    axios\r\n      .post(\"https://dk-react-backend.herokuapp.com/signup\", {\r\n        email: values.email,\r\n        first_name: values.first_name,\r\n        last_name: values.last_name,\r\n        password: values.password,\r\n      })\r\n      .then((res) => {\r\n        history.push(\"/login\");\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log(\"Failed:\", errorInfo);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form\r\n        {...layout}\r\n        name=\"basic\"\r\n        initialValues={{ rember: true }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n      >\r\n        <Typography.Title level={2} className=\"textcenter\">\r\n          Sign up\r\n        </Typography.Title>\r\n        <Form.Item\r\n          label=\"Email\"\r\n          name=\"email\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input your Email!\",\r\n              type: \"email\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input className=\"ant-col-14\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"First Name\"\r\n          name=\"first_name\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input your First name!\",\r\n              type: \"string\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input className=\"ant-col-14\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Last Name\"\r\n          name=\"last_name\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input your Last name!\",\r\n              type: \"string\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input className=\"ant-col-14\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Password\"\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input your password!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password className=\"ant-col-14\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Confirm Password\"\r\n          name=\"confirmPassword\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please confirm your password!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password className=\"ant-col-14\" />\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Create an account\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n      <div className=\"textcenter\">\r\n        <Typography.Text>\r\n          Already have a account? <Link to=\"/login\">Login </Link>\r\n        </Typography.Text>\r\n        now now\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nexport const peopleSlice = createSlice({\r\n  name: \"people\",\r\n  initialState: null,\r\n  reducers: {\r\n    setPeople: (state, action) => {\r\n      const newState = action.payload;\r\n      return newState;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setPeople } = peopleSlice.actions;\r\n\r\nexport default peopleSlice.reducer;\r\n","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Loading from \"./Loading\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setPeople } from \"../features/people/peopleSlice\"\r\nimport { Typography, Card, List, Image, message } from \"antd\";\r\nimport \"./index.css\"\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nexport default function People() {\r\n\r\n    const auth = useSelector((state) => state.auth);\r\n    const people = useSelector((state) => state.people);\r\n    const dispatch = useDispatch();\r\n    const [index, setIndex] = useState(0);\r\n    const [loading, setLoading] = useState(false);\r\n    const [hasMore, setHasMore] = useState(true);\r\n    useEffect(() => {\r\n        if (auth.authorization) {\r\n            axios.get(\"https://dk-react-backend.herokuapp.com/users\")\r\n                .then(res => { dispatch(setPeople(res.data)); setIndex(12); })\r\n                .catch(error => console.error(error));\r\n        }\r\n\r\n    }, [auth.authorization])\r\n\r\n    if (auth.authorization === false) {\r\n        return <Typography.Text>To see people's profiles, you have to log in first</Typography.Text>\r\n    }\r\n\r\n    if (people === null) {\r\n        return <Loading />;\r\n    }\r\n\r\n    function handleInfiniteOnLoad() {\r\n\r\n\r\n        if (index + 4 >= people.length) {\r\n            message.warning('Load all people\\'s profile');\r\n            setIndex(people.length);\r\n            setLoading(false);\r\n            setHasMore(false);\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        // setLoading(false); setIndex(index => index + 4);\r\n        setTimeout(() => { setLoading(false); setIndex(index => index + 4); }, 1500)\r\n\r\n    };\r\n    const displayPeople = people.slice(0, index);\r\n    return <>\r\n        <div className=\"textcenter\">\r\n            <Typography.Title level={2}>All people </Typography.Title >\r\n        </div>\r\n        <InfiniteScroll\r\n            initialLoad={true}\r\n            pageStart={0}\r\n            loadMore={handleInfiniteOnLoad}\r\n            hasMore={(!loading) && hasMore}\r\n            useWindow={true}\r\n        >\r\n            <List\r\n                grid={\r\n                    {\r\n                        gutter: 0,\r\n                        xs: 1,\r\n                        sm: 2,\r\n                        md: 3,\r\n                        lg: 3,\r\n                        xl: 4,\r\n                        xxl: 2,\r\n\r\n                    }\r\n                }\r\n                dataSource={displayPeople}\r\n                renderItem={item => (\r\n                    <Card\r\n                        hoverable={false}\r\n                        style={{ maxWidth: 240 }}\r\n                        cover={<Image\r\n                            height={200}\r\n                            src={item.profile_picture_url !== null ? item.profile_picture_url : ''}\r\n                            fallback=\"data:image/png;base64,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\"\r\n                        />}\r\n                    >\r\n                        <Card.Meta title={`${item.first_name} ${item.last_name}`} description={item.email} />\r\n                    </Card>\r\n                )}\r\n\r\n            >{loading && hasMore ? (\r\n                <Loading />\r\n            ) : \"\"}   </List>\r\n        </InfiniteScroll>\r\n\r\n    </>\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\r\nimport \"antd/dist/antd.css\";\r\nimport \"./index.css\";\r\nimport Calendarx from \"./Components/Calendarx\";\r\nimport { Layout, Menu, Button, Row, Col, Space, Typography } from \"antd\";\r\nimport EventDetail from \"./Components/EventDetail\";\r\nimport Event from \"./Components/Event\";\r\nimport Login from \"./Components/Login\";\r\nimport Signup from \"./Components/Signup\";\r\nimport People from \"./Components/People\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n  UserOutlined,\r\n  VideoCameraOutlined,\r\n  UploadOutlined,\r\n} from \"@ant-design/icons\";\r\nimport {\r\n  setAuthorization,\r\n  setToken,\r\n  setFirstName,\r\n  setAuth,\r\n} from \"./features/auth/authSlice\";\r\nimport axios from \"axios\";\r\n\r\nconst { Header, Sider, Content, Footer } = Layout;\r\nconst { Text } = Typography;\r\n\r\nfunction App() {\r\n  const [collapsed, setCollapsed] = useState(true);\r\n  const dispatch = useDispatch();\r\n\r\n  const toggle = () => setCollapsed((collapsed) => !collapsed);\r\n\r\n  useEffect(() => {\r\n    const user_token = localStorage.getItem(\"user_token\");\r\n    const first_name = localStorage.getItem(\"first_name\");\r\n    if (user_token === null) {\r\n      dispatch(setAuth({ token: null, firstName: null, authorization: false }));\r\n      axios.defaults.headers.Authorization = {};\r\n    } else {\r\n      dispatch(\r\n        setAuth({\r\n          token: user_token,\r\n          firstName: first_name,\r\n          authorization: true,\r\n        })\r\n      );\r\n      const userToken = `Bearer ${user_token}`;\r\n      axios.defaults.headers.Authorization = userToken;\r\n    }\r\n  }, []);\r\n\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  return (\r\n    <Router>\r\n      <Layout>\r\n        <Sider trigger={null} collapsible collapsed={collapsed}>\r\n          <Link to=\"/\">\r\n            <div className=\"logo\" />\r\n          </Link>\r\n          <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[\"1\"]}>\r\n            <Menu.Item key=\"Menu1\" icon={<VideoCameraOutlined />}>\r\n              <Link to=\"/event\">Event</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"Menu2\" icon={<UserOutlined />}>\r\n              <Link to=\"/people\">People</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"Menu3\" icon={<UploadOutlined />}>\r\n              <Text strong>Profile</Text>\r\n              <Link to=\"/profile\" />\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout className=\"site-layout\">\r\n          <Header className=\"site-layout-background site-layout-background-header\">\r\n            <Row align=\"space-between\">\r\n              <Col>\r\n                {collapsed ? (\r\n                  <MenuUnfoldOutlined className=\"trigger\" onClick={toggle} />\r\n                ) : (\r\n                  <MenuFoldOutlined className=\"trigger\" onClick={toggle} />\r\n                )}\r\n              </Col>\r\n              <Col className=\"col-login\">\r\n                {auth.authorization ? (\r\n                  <>\r\n                    <Typography.Text>\r\n                      Weclome, {auth.firstName}{\" \"}\r\n                    </Typography.Text>\r\n                    <Button\r\n                      type=\"primary\"\r\n                      onClick={() => {\r\n                        localStorage.removeItem(\"user_token\");\r\n                        localStorage.removeItem(\"first_name\");\r\n                        dispatch(\r\n                          setAuth({\r\n                            token: null,\r\n                            firstName: null,\r\n                            authorization: false,\r\n                          })\r\n                        );\r\n                        axios.defaults.headers.Authorization = {};\r\n                      }}\r\n                    >\r\n                      Log out\r\n                    </Button>\r\n                  </>\r\n                ) : (\r\n                  <Space>\r\n                    <Link to=\"/login\">\r\n                      <Button>Login</Button>\r\n                    </Link>\r\n                    <Link to=\"/signup\">\r\n                      <Button type=\"primary\">Sign up</Button>\r\n                    </Link>\r\n                  </Space>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </Header>\r\n          <Content className=\"site-layout-background-content site-layout-background\">\r\n            <Switch>\r\n              <Route path=\"/event/:id\">\r\n                <EventDetail />\r\n              </Route>\r\n              <Route path=\"/people\">\r\n                <People />\r\n              </Route>\r\n              <Route path=\"/profile\">Profile</Route>\r\n              <Route path=\"/login\">\r\n                <Login />\r\n              </Route>\r\n              <Route path=\"/signup\">\r\n                <Signup />\r\n              </Route>\r\n              <Route path=\"/\">\r\n                <Row>\r\n                  <Col span={14}>\r\n                    <Event />\r\n                  </Col>\r\n                  <Col span={10}>\r\n                    <Calendarx />\r\n                  </Col>\r\n                </Row>\r\n              </Route>\r\n            </Switch>\r\n          </Content>\r\n          <Footer className=\"footer\">\r\n            Meetup app 2021 Created by Yuan Zhou\r\n          </Footer>\r\n        </Layout>\r\n      </Layout>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport authSlice from \"../features/auth/authSlice\";\r\nimport eventSlice from \"../features/event/eventSlice\";\r\nimport peopleSlice from \"../features/people/peopleSlice\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    event: eventSlice,\r\n    auth: authSlice,\r\n    people: peopleSlice,\r\n  },\r\n});\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport store from \"./app/store\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}